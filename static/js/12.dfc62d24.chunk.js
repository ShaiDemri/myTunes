(this["webpackJsonpmy-tunes"]=this["webpackJsonpmy-tunes"]||[]).push([[12],{216:function(e,t,n){"use strict";n.r(t);var r=n(72),a=n(1),c=n.n(a),u=n(17),o=n.n(u),s=n(44),i=n(189),p=n(52),l=n(81),d=function(e){var t=e.type,n=e.component,r=e.fallbackComponent,a=void 0!==r&&r,u=Object(i.a)(e,["type","component","fallbackComponent"]),o=void 0!==Object(p.d)((function(e){return e.auth.isAuthorised}));return c.a.createElement(l.b,Object.assign({},u,{render:function(e){return o&&"private"===t||!o&&"public"===t?c.a.createElement(n,e):a?c.a.createElement(a,e):c.a.createElement(l.a,{to:{pathname:"private"===t?"/signup":e.location.state?e.location.state.from.pathname:"/",search:"from=".concat(e.location.pathname),state:{from:e.location}}})}}))},f=function(){return c.a.createElement(s.a,null)},b=o()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,114))},loading:f}),E=o()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,127))},loading:f}),m=o()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(13)]).then(n.bind(null,117))},loading:f}),O=o()({loader:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,126))},loading:f}),v={routes:[c.a.createElement(d,{type:"public",path:"/signup",exact:!0,component:b}),c.a.createElement(d,{type:"private",path:"/tune/:tuneId",component:m}),c.a.createElement(d,{type:"private",path:"/searchTune",exact:!0,component:E}),c.a.createElement(d,{type:"public",path:"/",component:O})],landingPage:o()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,114))},loading:function(){return c.a.createElement(s.a,null)}})},h=n(66),j=n(187),x=n(144),_=n(145),g=n.n(_),w=n(185),S=n(69),T={user:void 0};var C=n(75),y={top10:[],media:[]};var D=n(76),U={selectedTune:void 0};var k=Object(h.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.d:return Object(r.a)({},e,{user:void 0});case S.b:case S.f:return Object(r.a)({},e,{user:t.user});default:return e}},media:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.b:return Object(r.a)({},e,{media:t.media.data.results});case C.d:return Object(r.a)({},e,{top10:t.top10.data});default:return e}},tune:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.b:case D.d:return console.log(t),Object(r.a)({},e,{selectedTune:t.tune});default:return e}}}),A=function(e,t){return t.type===S.c&&(e=void 0),k(e,t)},I=n(77),R=n.n(I),M=n(186),N=n(82),P=n(149),H=n.n(P),L="https://my-tune.herokuapp.com",F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return H()({url:L+e,method:t,headers:r,data:n})},G=R.a.mark(B),X=R.a.mark(K),J=R.a.mark(Q),V=R.a.mark(W),q=R.a.mark(Y),z=R.a.mark(Z);function B(e){var t,n,r;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.email,n=e.password,a.prev=1,a.next=4,Object(N.b)(F,"/user/login/","post",{email:t,password:n});case 4:return r=a.sent,a.next=7,Object(N.d)({type:S.b,user:r});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(N.d)({type:S.a+"_FAILED",message:a.t0.message});case 13:case"end":return a.stop()}}),G,null,[[1,9]])}function K(e){var t,n,r,a,c;return R.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.email,n=e.password,r=e.firstName,a=e.surName,u.prev=1,u.next=4,Object(N.b)(F,"/user/signup/","post",{email:t,password:n,firstName:r,surName:a});case 4:return c=u.sent,u.next=7,Object(N.d)({type:S.f,user:c});case 7:u.next=13;break;case 9:return u.prev=9,u.t0=u.catch(1),u.next=13,Object(N.d)({type:S.e+"_FAILED",message:u.t0.message});case 13:case"end":return u.stop()}}),X,null,[[1,9]])}function Q(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(N.b)(F,"/user/logout/","post");case 3:return e.next=5,Object(N.d)({type:S.d,user:null});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(N.d)({type:S.c+"_FAILED",message:e.t0.message});case 11:case"end":return e.stop()}}),J,null,[[0,7]])}function W(e){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.f)(S.a,B);case 2:case"end":return e.stop()}}),V)}function Y(e){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.f)(S.e,K);case 2:case"end":return e.stop()}}),q)}function Z(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.f)(S.c,Q);case 2:case"end":return e.stop()}}),z)}var $=[Object(N.b)(W),Object(N.b)(Y),Object(N.b)(Z)],ee=R.a.mark(ce),te=R.a.mark(ue),ne=R.a.mark(oe),re=R.a.mark(se),ae=function(e){return e.auth.user.data.user.email};function ce(e){var t,n;return R.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(N.e)(ae);case 2:return t=r.sent,r.prev=3,r.next=6,Object(N.b)(F,"/media/"+e.query,"get",void 0,{email:t});case 6:return n=r.sent,r.next=9,Object(N.d)({type:C.b,media:n});case 9:return r.abrupt("return",n);case 12:return r.prev=12,r.t0=r.catch(3),console.log(r.t0),r.next=17,Object(N.d)({type:C.a+"_ERROR",error:r.t0});case 17:return r.prev=17,r.next=20,Object(N.c)();case 20:if(!r.sent){r.next=21;break}case 21:return r.finish(17);case 22:case"end":return r.stop()}}),ee,null,[[3,12,17,22]])}function ue(){var e,t;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.e)(ae);case 2:return e=n.sent,n.prev=3,n.next=6,Object(N.b)(F,"/media/top10","get",void 0,{email:e});case 6:return t=n.sent,n.next=9,Object(N.d)({type:C.d,top10:t});case 9:return n.abrupt("return",t);case 12:return n.prev=12,n.t0=n.catch(3),console.log(n.t0),n.next=17,Object(N.d)({type:C.c+"_ERROR",error:n.t0});case 17:return n.prev=17,n.next=20,Object(N.c)();case 20:if(!n.sent){n.next=21;break}case 21:return n.finish(17);case 22:case"end":return n.stop()}}),te,null,[[3,12,17,22]])}function oe(e){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.f)(C.a,ce);case 2:case"end":return e.stop()}}),ne)}function se(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.f)(C.c,ue);case 2:case"end":return e.stop()}}),re)}var ie=[Object(N.b)(oe),Object(N.b)(se)],pe=R.a.mark(be),le=R.a.mark(Ee),de=R.a.mark(me),fe=R.a.mark(Oe);function be(e){var t;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.tune,n.prev=1,n.next=4,Object(N.d)({type:D.d,tune:t});case 4:return n.next=6,Object(N.b)(F,"/media/selected","post",t);case 6:return n.abrupt("return",t);case 9:return n.prev=9,n.t0=n.catch(1),console.log(n.t0),n.next=14,Object(N.d)({type:D.c+"_ERROR",error:n.t0});case 14:return n.prev=14,n.next=17,Object(N.c)();case 17:if(!n.sent){n.next=18;break}case 18:return n.finish(14);case 19:case"end":return n.stop()}}),pe,null,[[1,9,14,19]])}function Ee(){var e;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(N.b)(F,"/media/selected");case 3:return e=t.sent,t.next=6,Object(N.d)({type:D.b,tune:e});case 6:return t.abrupt("return",e);case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.next=14,Object(N.d)({type:D.a+"_ERROR",error:t.t0});case 14:return t.prev=14,t.next=17,Object(N.c)();case 17:if(!t.sent){t.next=18;break}case 18:return t.finish(14);case 19:case"end":return t.stop()}}),le,null,[[0,9,14,19]])}function me(e){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.f)(D.c,be);case 2:case"end":return e.stop()}}),de)}function Oe(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.f)(D.a,Ee);case 2:case"end":return e.stop()}}),fe)}var ve=[Object(N.b)(me),Object(N.b)(Oe)],he=R.a.mark(je);function je(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([].concat(Object(M.a)($),Object(M.a)(ie),Object(M.a)(ve)));case 2:case"end":return e.stop()}}),he)}function xe(){Object(x.createLogger)({});var e,t=Object(j.a)(),n=[t];var r=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0}):h.d)(h.a.apply(void 0,n)),a={key:"root",storage:g.a,blacklist:["media"]},c=Object(w.a)(a,A);e=Object(h.e)(c,r),t.run(je);try{Object(w.b)(e)}catch(u){console.log(u)}return e}var _e=n(67),ge=o()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(8),n.e(11)]).then(n.bind(null,218))},loading:function(){return c.a.createElement(s.a,null)}}),we=function(e){var t=e.appConfig,n=t&&t.configureStore?t.configureStore():xe(),a=Object(r.a)({},v,{},t);return c.a.createElement(p.a,{store:n},c.a.createElement(_e.a,{basename:"/myTunes"},c.a.createElement(l.d,null,c.a.createElement(l.b,null,c.a.createElement(ge,{appConfig:a})))))};t.default=function(){return c.a.createElement(we,{appConfig:Object(r.a)({configureStore:xe},v)})}},69:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s}));var r="".concat("AUTH","@USER_LOGOUT"),a="".concat("AUTH","@USER_LOGOUT_SUCCEEDED"),c="".concat("AUTH","@USER_LOGIN"),u="".concat("AUTH","@USER_LOGIN"),o="".concat("AUTH","@USER_SIGNUP"),s="".concat("AUTH","@USER_SIGNUP_SUCCEEDED")},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));var r="".concat("MEDIA","@FETCH_MEDIA"),a="".concat("MEDIA","@FETCH_MEDIA_SUCCESS"),c="".concat("MEDIA","@FETCH_TOP10"),u="".concat("MEDIA","@FETCH_TOP10_SUCCESS")},76:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));"".concat("MEDIA","@FETCH_MEDIA"),"".concat("MEDIA","@FETCH_MEDIA_SUCCESS"),"".concat("MEDIA","@FETCH_TOP10"),"".concat("MEDIA","@FETCH_TOP10_SUCCESS");var r="".concat("MEDIA","@SELECTED_TUNE"),a="".concat("MEDIA","@SELECTED_TUNE_SUCCESS"),c="".concat("MEDIA","@GET_SELECTED_TUNE"),u="".concat("MEDIA","@GET_SELECTED_TUNE_SUCCESS")}}]);
//# sourceMappingURL=12.dfc62d24.chunk.js.map